<!DOCTYPE html>
<html>
<body>

<p id="htmlpage"></p>

<script type="text/javascript">

//load html file
document.getElementById("htmlpage").innerHTML='<object type="text/html" data="1_page10_7-26-2017_170078010_1.html"></object>';
//$('#htmlpage').load('1_page10_7-26-2017_170078010_1.html');

//extract all the meaningful information from the html file
var jobTitle = document.querySelector('[itemprop=title]').textContent;
var location =  document.querySelector('[itemprop=addressLocality]').textContent+ ", " +
	       document.querySelector('[itemprop=addressRegion]').textContent+ ", " +
	       document.querySelector('[itemprop=addressCountry]').textContent+ ", " +
var reqNo = document.getElementsByClassName("req");
var jobCategory =document.querySelector('[itemprop=occupationalCategory]').textContent
var salary = document.getElementsByClassName("referral-info");
var jobDescription = document.getElementsByClassName("desc");

//append all the extracted data in a text variable
 var text = "Job Title: "+jobTitle +"\n"+
		location +"\n"+
		reqNo+"\n"+ 
		jobCategory+"\n"+ 	
		salary+"\n"+ 
		"Job Description: "+jobDescription

//Create new blob to store the raw text data
 var file = new Blob([text], {type : "text/plain"});

//export to a file
//create a new object URL for the text file and download it as 'result.txt' file
 a.href = URL.createObjectURL(file);
 a.download = 'result.txt';

</script>


</body>
</html>

